import{a as B,c as S,z as I,b as k}from"./index.f991405f.js";import{m as l,n as z,o as N,q as P,r as O,s as T,p as d,v as D}from"./image.dc417329.js";import{b as _}from"./theme.0ecad98c.js";import{h as C,b as p,a as E,i as u,A as L,B as j,u as V,C as c,j as A,k as H}from"./framework.8f8f0586.js";const K={modelValue:[Array,String,Number,Boolean,Object],disabled:Boolean,multiple:Boolean,props:{type:Object},options:{type:Array,default:()=>[]},popperClass:{type:String,default:""},name:String,placeholder:{type:String,default:"请选择"},suffixIcon:{type:l,default:B},clearable:{type:Boolean,default:!0},clearIcon:{type:l,default:S},collapseTags:Boolean,collapseTagsTooltip:Boolean,tagType:{...z.type,default:"info"},tagsHeight:[String,Number],loading:Boolean,loadingText:{type:String,default:"加载中..."},emptyText:{type:String,default:"暂无数据"},remote:Boolean,remoteMethod:Function,filterable:Boolean,filterMethod:Function,beforeSelect:{type:Function},fitInputWidth:{type:Boolean,default:!1},multipleLimit:{type:Number,default:0},multipleLimitText:{type:String,default:"选择个数超过限制"},itemHeight:{type:Number,default:32},height:{type:Number,default:192},estimatedOptionHeight:Number,scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},isObject:Boolean,valueOptions:{type:Array,default:()=>[]}},G={...N,throttleWait:{type:Number},throttleSetting:{type:Object,default:()=>({leading:!0})},debounceWait:{type:Number},debounceSetting:{type:Object}},J={...P,beforeDisabledDate:{type:[String,Number,Date]},afterDisabledDate:{type:[String,Number,Date]},dateRangeLimit:{type:Number}},M={...O,previewTeleported:{type:Boolean,default:!0},initialIndex:{type:Number},withPreview:{type:Boolean,default:!1},previewIcon:{type:l,default:I},withDownload:{type:Boolean,default:!1},downloadIcon:{type:l,default:k},fileName:{type:String}},$={...T},F={key:0},Q=C({__name:"image-viewer",props:d(M,["src","zIndex","infinite","zoomRate","previewSrcList","hideOnClickModal","closeOnPressEscape","previewTeleported","initialIndex"]),emits:d($,["show","close","switch"]),setup(f,{expose:m,emit:n}){const t=f,o=p(()=>{var e;return(e=t.previewSrcList)!=null&&e.length?t.previewSrcList:t.src?[t.src]:[]}),y=p(()=>{const{initialIndex:e}=t;let r=o.value.findIndex(x=>x===t.src);return e!==void 0&&(r=e,e>o.value.length-1&&(r=0)),r});let a,s="";const i=E(!1);function w(e){if(e.ctrlKey){if(e.deltaY<0)return e.preventDefault(),!1;if(e.deltaY>0)return e.preventDefault(),!1}}function g(){a=_("wheel",w,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",i.value=!0,n("show")}function b(){a==null||a(),document.body.style.overflow=s,i.value=!1,n("close")}function v(e){n("switch",e)}return m({clickHandler:g}),(e,h)=>i.value&&o.value.length?(u(),L(V(D),{key:0,"z-index":e.zIndex,"initial-index":y.value,infinite:e.infinite,"zoom-rate":e.zoomRate,"url-list":o.value,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:b,onSwitch:v},{default:j(()=>[e.$slots.viewer?(u(),A("div",F,[H(e.$slots,"viewer")])):c("",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):c("",!0)}});export{Q as _,J as a,M as b,G as c,$ as d,K as s};
