import{U as Ie,x as Te,v as Pe,d as Oe,S as se,e as it,a as lt,j as ut,g as dt,h as ft}from"./use-form-item.9bac93e0.js";import{I as pe,aI as ct,az as Le,y as pt,k as Re,aA as Ne,S as ze,N as vt,a8 as gt,R as oe,m as Me,aa as mt,u as Fe,aj as yt,ab as ht,Z as bt,E as K,_ as wt,Q as xt,al as St}from"./image.dc417329.js";import{a as B,ai as re,h as Ye,al as Et,a1 as _t,b,W as ie,w as le,X as F,e as Ct,t as At,a9 as It,ag as Tt,i as h,j as P,C as w,F as ue,n as S,u as r,k as Q,z as H,A as O,B as G,J as Z,E as de,G as Pt,a0 as Ot,ae as Lt,m as j,H as Rt,ak as He}from"./framework.8f8f0586.js";import{K as Nt,L as zt,c as Mt}from"./index.f991405f.js";import{u as Ft}from"./index.a0813760.js";import{d as Be}from"./index.730a9075.js";const Ht=()=>pe&&/firefox/i.test(window.navigator.userAgent);var Bt="__lodash_hash_undefined__";function $t(e){return this.__data__.set(e,Bt),this}function Dt(e){return this.__data__.has(e)}function ee(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new ct;++t<s;)this.add(e[t])}ee.prototype.add=ee.prototype.push=$t;ee.prototype.has=Dt;function Vt(e,t){for(var s=-1,n=e==null?0:e.length;++s<n;)if(t(e[s],s,e))return!0;return!1}function Ut(e,t){return e.has(t)}var Kt=1,Gt=2;function qe(e,t,s,n,i,o){var u=s&Kt,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var p=o.get(e),y=o.get(t);if(p&&y)return p==t&&y==e;var f=-1,g=!0,E=s&Gt?new ee:void 0;for(o.set(e,t),o.set(t,e);++f<c;){var m=e[f],l=t[f];if(n)var C=u?n(l,m,f,t,e,o):n(m,l,f,e,t,o);if(C!==void 0){if(C)continue;g=!1;break}if(E){if(!Vt(t,function(_,x){if(!Ut(E,x)&&(m===_||i(m,_,s,n,o)))return E.push(x)})){g=!1;break}}else if(!(m===l||i(m,l,s,n,o))){g=!1;break}}return o.delete(e),o.delete(t),g}function Wt(e){var t=-1,s=Array(e.size);return e.forEach(function(n,i){s[++t]=[i,n]}),s}function Yt(e){var t=-1,s=Array(e.size);return e.forEach(function(n){s[++t]=n}),s}var qt=1,Xt=2,Jt="[object Boolean]",Qt="[object Date]",Zt="[object Error]",jt="[object Map]",kt="[object Number]",ea="[object RegExp]",ta="[object Set]",aa="[object String]",na="[object Symbol]",sa="[object ArrayBuffer]",oa="[object DataView]",$e=Le?Le.prototype:void 0,fe=$e?$e.valueOf:void 0;function ra(e,t,s,n,i,o,u){switch(s){case oa:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sa:return!(e.byteLength!=t.byteLength||!o(new Ie(e),new Ie(t)));case Jt:case Qt:case kt:return pt(+e,+t);case Zt:return e.name==t.name&&e.message==t.message;case ea:case aa:return e==t+"";case jt:var c=Wt;case ta:var d=n&qt;if(c||(c=Yt),e.size!=t.size&&!d)return!1;var p=u.get(e);if(p)return p==t;n|=Xt,u.set(e,t);var y=qe(c(e),c(t),n,i,o,u);return u.delete(e),y;case na:if(fe)return fe.call(e)==fe.call(t)}return!1}var ia=1,la=Object.prototype,ua=la.hasOwnProperty;function da(e,t,s,n,i,o){var u=s&ia,c=Te(e),d=c.length,p=Te(t),y=p.length;if(d!=y&&!u)return!1;for(var f=d;f--;){var g=c[f];if(!(u?g in t:ua.call(t,g)))return!1}var E=o.get(e),m=o.get(t);if(E&&m)return E==t&&m==e;var l=!0;o.set(e,t),o.set(t,e);for(var C=u;++f<d;){g=c[f];var _=e[g],x=t[g];if(n)var L=u?n(x,_,g,t,e,o):n(_,x,g,e,t,o);if(!(L===void 0?_===x||i(_,x,s,n,o):L)){l=!1;break}C||(C=g=="constructor")}if(l&&!C){var R=e.constructor,I=t.constructor;R!=I&&"constructor"in e&&"constructor"in t&&!(typeof R=="function"&&R instanceof R&&typeof I=="function"&&I instanceof I)&&(l=!1)}return o.delete(e),o.delete(t),l}var fa=1,De="[object Arguments]",Ve="[object Array]",k="[object Object]",ca=Object.prototype,Ue=ca.hasOwnProperty;function pa(e,t,s,n,i,o){var u=Re(e),c=Re(t),d=u?Ve:Pe(e),p=c?Ve:Pe(t);d=d==De?k:d,p=p==De?k:p;var y=d==k,f=p==k,g=d==p;if(g&&Oe(e)){if(!Oe(t))return!1;u=!0,y=!1}if(g&&!y)return o||(o=new se),u||it(e)?qe(e,t,s,n,i,o):ra(e,t,d,s,n,i,o);if(!(s&fa)){var E=y&&Ue.call(e,"__wrapped__"),m=f&&Ue.call(t,"__wrapped__");if(E||m){var l=E?e.value():e,C=m?t.value():t;return o||(o=new se),i(l,C,s,n,o)}}return g?(o||(o=new se),da(e,t,s,n,i,o)):!1}function Xe(e,t,s,n,i){return e===t?!0:e==null||t==null||!Ne(e)&&!Ne(t)?e!==e&&t!==t:pa(e,t,s,n,Xe,i)}function za(e,t){return Xe(e,t)}const ce="update:modelValue",Ma="change",Fa="input",va=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function ga(e){const t=B();function s(){if(e.value==null)return;const{selectionStart:i,selectionEnd:o,value:u}=e.value;if(i==null||o==null)return;const c=u.slice(0,Math.max(0,i)),d=u.slice(Math.max(0,o));t.value={selectionStart:i,selectionEnd:o,value:u,beforeTxt:c,afterTxt:d}}function n(){if(e.value==null||t.value==null)return;const{value:i}=e.value,{beforeTxt:o,afterTxt:u,selectionStart:c}=t.value;if(o==null||u==null||c==null)return;let d=i.length;if(i.endsWith(u))d=i.length-u.length;else if(i.startsWith(o))d=o.length;else{const p=o[c-1],y=i.indexOf(p,c-1);y!==-1&&(d=y+1)}e.value.setSelectionRange(d,d)}return[s,n]}let A;const ma=`
  height:0 !important;
  visibility:hidden !important;
  ${Ht()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,ya=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function ha(e){const t=window.getComputedStyle(e),s=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),i=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:ya.map(u=>`${u}:${t.getPropertyValue(u)}`).join(";"),paddingSize:n,borderSize:i,boxSizing:s}}function Ke(e,t=1,s){var n;A||(A=document.createElement("textarea"),document.body.appendChild(A));const{paddingSize:i,borderSize:o,boxSizing:u,contextStyle:c}=ha(e);A.setAttribute("style",`${c};${ma}`),A.value=e.value||e.placeholder||"";let d=A.scrollHeight;const p={};u==="border-box"?d=d+o:u==="content-box"&&(d=d-i),A.value="";const y=A.scrollHeight-i;if(ze(t)){let f=y*t;u==="border-box"&&(f=f+i+o),d=Math.max(f,d),p.minHeight=`${f}px`}if(ze(s)){let f=y*s;u==="border-box"&&(f=f+i+o),d=Math.min(f,d)}return p.height=`${d}px`,(n=A.parentNode)==null||n.removeChild(A),A=void 0,p}const ba=vt({id:{type:String,default:void 0},size:gt,disabled:Boolean,modelValue:{type:oe([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:oe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Me},prefixIcon:{type:Me},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:oe([Object,Array,String]),default:()=>mt({})}}),wa={[ce]:e=>re(e),input:e=>re(e),change:e=>re(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},xa=["role"],Sa=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Ea=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],_a=Ye({name:"ElInput",inheritAttrs:!1}),Ca=Ye({..._a,props:ba,emits:wa,setup(e,{expose:t,emit:s}){const n=e,i=Et(),o=_t(),u=b(()=>{const a={};return n.containerRole==="combobox"&&(a["aria-haspopup"]=i["aria-haspopup"],a["aria-owns"]=i["aria-owns"],a["aria-expanded"]=i["aria-expanded"]),a}),c=b(()=>[n.type==="textarea"?C.b():l.b(),l.m(E.value),l.is("disabled",m.value),l.is("exceed",Ze.value),{[l.b("group")]:o.prepend||o.append,[l.bm("group","append")]:o.append,[l.bm("group","prepend")]:o.prepend,[l.m("prefix")]:o.prefix||n.prefixIcon,[l.m("suffix")]:o.suffix||n.suffixIcon||n.clearable||n.showPassword,[l.bm("suffix","password-clear")]:q.value&&te.value},i.class]),d=b(()=>[l.e("wrapper"),l.is("focus",L.value)]),p=Ft({excludeKeys:b(()=>Object.keys(u.value))}),{form:y,formItem:f}=lt(),{inputId:g}=ut(n,{formItemContext:f}),E=dt(),m=ft(),l=Fe("input"),C=Fe("textarea"),_=ie(),x=ie(),L=B(!1),R=B(!1),I=B(!1),W=B(!1),ve=B(),Y=ie(n.inputStyle),$=b(()=>_.value||x.value),ge=b(()=>{var a;return(a=y==null?void 0:y.statusIcon)!=null?a:!1}),D=b(()=>(f==null?void 0:f.validateState)||""),me=b(()=>D.value&&yt[D.value]),Je=b(()=>W.value?Nt:zt),Qe=b(()=>[i.style,n.inputStyle]),ye=b(()=>[n.inputStyle,Y.value,{resize:n.resize}]),N=b(()=>ht(n.modelValue)?"":String(n.modelValue)),q=b(()=>n.clearable&&!m.value&&!n.readonly&&!!N.value&&(L.value||R.value)),te=b(()=>n.showPassword&&!m.value&&!n.readonly&&!!N.value&&(!!N.value||L.value)),M=b(()=>n.showWordLimit&&!!p.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!m.value&&!n.readonly&&!n.showPassword),ae=b(()=>N.value.length),Ze=b(()=>!!M.value&&ae.value>Number(p.value.maxlength)),je=b(()=>!!o.suffix||!!n.suffixIcon||q.value||n.showPassword||M.value||!!D.value&&ge.value),[ke,et]=ga(_);bt(x,a=>{if(tt(),!M.value||n.resize!=="both")return;const v=a[0],{width:T}=v.contentRect;ve.value={right:`calc(100% - ${T+15+6}px)`}});const V=()=>{const{type:a,autosize:v}=n;if(!(!pe||a!=="textarea"||!x.value))if(v){const T=He(v)?v.minRows:void 0,J=He(v)?v.maxRows:void 0,Ae=Ke(x.value,T,J);Y.value={overflowY:"hidden",...Ae},F(()=>{x.value.offsetHeight,Y.value=Ae})}else Y.value={minHeight:Ke(x.value).minHeight}},tt=(a=>{let v=!1;return()=>{var T;if(v||!n.autosize)return;((T=x.value)==null?void 0:T.offsetParent)===null||(a(),v=!0)}})(V),U=()=>{const a=$.value;!a||a.value===N.value||(a.value=N.value)},ne=async a=>{ke();let{value:v}=a.target;if(n.formatter&&(v=n.parser?n.parser(v):v,v=n.formatter(v)),!I.value){if(v===N.value){U();return}s(ce,v),s("input",v),await F(),U(),et()}},he=a=>{s("change",a.target.value)},be=a=>{s("compositionstart",a),I.value=!0},we=a=>{var v;s("compositionupdate",a);const T=(v=a.target)==null?void 0:v.value,J=T[T.length-1]||"";I.value=!va(J)},xe=a=>{s("compositionend",a),I.value&&(I.value=!1,ne(a))},at=()=>{W.value=!W.value,X()},X=async()=>{var a;await F(),(a=$.value)==null||a.focus()},nt=()=>{var a;return(a=$.value)==null?void 0:a.blur()},Se=a=>{L.value=!0,s("focus",a)},Ee=a=>{var v;L.value=!1,s("blur",a),n.validateEvent&&((v=f==null?void 0:f.validate)==null||v.call(f,"blur").catch(T=>Be()))},st=a=>{R.value=!1,s("mouseleave",a)},ot=a=>{R.value=!0,s("mouseenter",a)},_e=a=>{s("keydown",a)},rt=()=>{var a;(a=$.value)==null||a.select()},Ce=()=>{s(ce,""),s("change",""),s("clear"),s("input","")};return le(()=>n.modelValue,()=>{var a;F(()=>V()),n.validateEvent&&((a=f==null?void 0:f.validate)==null||a.call(f,"change").catch(v=>Be()))}),le(N,()=>U()),le(()=>n.type,async()=>{await F(),U(),V()}),Ct(()=>{!n.formatter&&n.parser,U(),F(V)}),t({input:_,textarea:x,ref:$,textareaStyle:ye,autosize:At(n,"autosize"),focus:X,blur:nt,select:rt,clear:Ce,resizeTextarea:V}),(a,v)=>It((h(),P("div",de(r(u),{class:r(c),style:r(Qe),role:a.containerRole,onMouseenter:ot,onMouseleave:st}),[w(" input "),a.type!=="textarea"?(h(),P(ue,{key:0},[w(" prepend slot "),a.$slots.prepend?(h(),P("div",{key:0,class:S(r(l).be("group","prepend"))},[Q(a.$slots,"prepend")],2)):w("v-if",!0),H("div",{class:S(r(d))},[w(" prefix slot "),a.$slots.prefix||a.prefixIcon?(h(),P("span",{key:0,class:S(r(l).e("prefix"))},[H("span",{class:S(r(l).e("prefix-inner")),onClick:X},[Q(a.$slots,"prefix"),a.prefixIcon?(h(),O(r(K),{key:0,class:S(r(l).e("icon"))},{default:G(()=>[(h(),O(Z(a.prefixIcon)))]),_:1},8,["class"])):w("v-if",!0)],2)],2)):w("v-if",!0),H("input",de({id:r(g),ref_key:"input",ref:_,class:r(l).e("inner")},r(p),{type:a.showPassword?W.value?"text":"password":a.type,disabled:r(m),formatter:a.formatter,parser:a.parser,readonly:a.readonly,autocomplete:a.autocomplete,tabindex:a.tabindex,"aria-label":a.label,placeholder:a.placeholder,style:a.inputStyle,form:n.form,onCompositionstart:be,onCompositionupdate:we,onCompositionend:xe,onInput:ne,onFocus:Se,onBlur:Ee,onChange:he,onKeydown:_e}),null,16,Sa),w(" suffix slot "),r(je)?(h(),P("span",{key:1,class:S(r(l).e("suffix"))},[H("span",{class:S(r(l).e("suffix-inner")),onClick:X},[!r(q)||!r(te)||!r(M)?(h(),P(ue,{key:0},[Q(a.$slots,"suffix"),a.suffixIcon?(h(),O(r(K),{key:0,class:S(r(l).e("icon"))},{default:G(()=>[(h(),O(Z(a.suffixIcon)))]),_:1},8,["class"])):w("v-if",!0)],64)):w("v-if",!0),r(q)?(h(),O(r(K),{key:1,class:S([r(l).e("icon"),r(l).e("clear")]),onMousedown:Ot(r(Lt),["prevent"]),onClick:Ce},{default:G(()=>[Pt(r(Mt))]),_:1},8,["class","onMousedown"])):w("v-if",!0),r(te)?(h(),O(r(K),{key:2,class:S([r(l).e("icon"),r(l).e("password")]),onClick:at},{default:G(()=>[(h(),O(Z(r(Je))))]),_:1},8,["class"])):w("v-if",!0),r(M)?(h(),P("span",{key:3,class:S(r(l).e("count"))},[H("span",{class:S(r(l).e("count-inner"))},j(r(ae))+" / "+j(r(p).maxlength),3)],2)):w("v-if",!0),r(D)&&r(me)&&r(ge)?(h(),O(r(K),{key:4,class:S([r(l).e("icon"),r(l).e("validateIcon"),r(l).is("loading",r(D)==="validating")])},{default:G(()=>[(h(),O(Z(r(me))))]),_:1},8,["class"])):w("v-if",!0)],2)],2)):w("v-if",!0)],2),w(" append slot "),a.$slots.append?(h(),P("div",{key:1,class:S(r(l).be("group","append"))},[Q(a.$slots,"append")],2)):w("v-if",!0)],64)):(h(),P(ue,{key:1},[w(" textarea "),H("textarea",de({id:r(g),ref_key:"textarea",ref:x,class:r(C).e("inner")},r(p),{tabindex:a.tabindex,disabled:r(m),readonly:a.readonly,autocomplete:a.autocomplete,style:r(ye),"aria-label":a.label,placeholder:a.placeholder,form:n.form,onCompositionstart:be,onCompositionupdate:we,onCompositionend:xe,onInput:ne,onFocus:Se,onBlur:Ee,onChange:he,onKeydown:_e}),null,16,Ea),r(M)?(h(),P("span",{key:0,style:Rt(ve.value),class:S(r(l).e("count"))},j(r(ae))+" / "+j(r(p).maxlength),7)):w("v-if",!0)],64))],16,xa)),[[Tt,a.type!=="hidden"]])}});var Aa=wt(Ca,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ha=xt(Aa),z=new Map;let Ge;pe&&(document.addEventListener("mousedown",e=>Ge=e),document.addEventListener("mouseup",e=>{for(const t of z.values())for(const{documentHandler:s}of t)s(e,Ge)}));function We(e,t){let s=[];return Array.isArray(t.arg)?s=t.arg:St(t.arg)&&s.push(t.arg),function(n,i){const o=t.instance.popperRef,u=n.target,c=i==null?void 0:i.target,d=!t||!t.instance,p=!u||!c,y=e.contains(u)||e.contains(c),f=e===u,g=s.length&&s.some(m=>m==null?void 0:m.contains(u))||s.length&&s.includes(c),E=o&&(o.contains(u)||o.contains(c));d||p||y||f||g||E||t.value(n,i)}}const Ba={beforeMount(e,t){z.has(e)||z.set(e,[]),z.get(e).push({documentHandler:We(e,t),bindingFn:t.value})},updated(e,t){z.has(e)||z.set(e,[]);const s=z.get(e),n=s.findIndex(o=>o.bindingFn===t.oldValue),i={documentHandler:We(e,t),bindingFn:t.value};n>=0?s.splice(n,1,i):s.push(i)},unmounted(e){z.delete(e)}};export{Ba as C,Ha as E,Fa as I,ee as S,ce as U,Ma as a,Xe as b,Ut as c,va as d,Ht as e,za as i,Yt as s};
