import{_ as lt,k as it,V as Ae,Y as Te,f as Pe,W as Oe,s as Le,S as se,v as ut,g as dt,G as ct,B as ft,D as pt,E as U}from"./use-form-item.178f3bf8.js";import{h as pe,Y as Re,Z as Ne,a3 as vt,q as Fe,o as gt,F as yt,p as oe,e as ze,u as Me,V as mt,G as ht,_ as xt,w as bt,L as wt}from"./date-picker.fc4b14cf.js";import{b as h,e as Et,a as H,al as re,h as Ye,ao as St,a1 as _t,W as le,w as ie,X as M,f as Ct,t as It,a9 as At,ak as Tt,i as x,j as P,C as b,F as ue,n as E,u as r,k as J,z as B,A as O,B as G,I as Q,E as de,G as Pt,a0 as Ot,aj as Lt,m as j,H as Rt,an as Be}from"./framework.60b91a13.js";import{f as Nt,e as He}from"./index.f1dd3bd1.js";import{O as Ft,P as zt,c as Mt}from"./index.5daaea23.js";const Bt=()=>pe&&/firefox/i.test(window.navigator.userAgent);var Ht="__lodash_hash_undefined__";function Dt(e){return this.__data__.set(e,Ht),this}function $t(e){return this.__data__.has(e)}function ee(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new lt;++t<s;)this.add(e[t])}ee.prototype.add=ee.prototype.push=Dt;ee.prototype.has=$t;function Vt(e,t){for(var s=-1,a=e==null?0:e.length;++s<a;)if(t(e[s],s,e))return!0;return!1}function Kt(e,t){return e.has(t)}var Ut=1,Gt=2;function Xe(e,t,s,a,l,o){var i=s&Ut,f=e.length,d=t.length;if(f!=d&&!(i&&d>f))return!1;var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var c=-1,g=!0,S=s&Gt?new ee:void 0;for(o.set(e,t),o.set(t,e);++c<f;){var y=e[c],u=t[c];if(a)var C=i?a(u,y,c,t,e,o):a(y,u,c,e,t,o);if(C!==void 0){if(C)continue;g=!1;break}if(S){if(!Vt(t,function(_,w){if(!Kt(S,w)&&(y===_||l(y,_,s,a,o)))return S.push(w)})){g=!1;break}}else if(!(y===u||l(y,u,s,a,o))){g=!1;break}}return o.delete(e),o.delete(t),g}function Wt(e){var t=-1,s=Array(e.size);return e.forEach(function(a,l){s[++t]=[l,a]}),s}function Yt(e){var t=-1,s=Array(e.size);return e.forEach(function(a){s[++t]=a}),s}var Xt=1,qt=2,Zt="[object Boolean]",Jt="[object Date]",Qt="[object Error]",jt="[object Map]",kt="[object Number]",ea="[object RegExp]",ta="[object Set]",aa="[object String]",na="[object Symbol]",sa="[object ArrayBuffer]",oa="[object DataView]",De=Re?Re.prototype:void 0,ce=De?De.valueOf:void 0;function ra(e,t,s,a,l,o,i){switch(s){case oa:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sa:return!(e.byteLength!=t.byteLength||!o(new Ae(e),new Ae(t)));case Zt:case Jt:case kt:return it(+e,+t);case Qt:return e.name==t.name&&e.message==t.message;case ea:case aa:return e==t+"";case jt:var f=Wt;case ta:var d=a&Xt;if(f||(f=Yt),e.size!=t.size&&!d)return!1;var p=i.get(e);if(p)return p==t;a|=qt,i.set(e,t);var m=Xe(f(e),f(t),a,l,o,i);return i.delete(e),m;case na:if(ce)return ce.call(e)==ce.call(t)}return!1}var la=1,ia=Object.prototype,ua=ia.hasOwnProperty;function da(e,t,s,a,l,o){var i=s&la,f=Te(e),d=f.length,p=Te(t),m=p.length;if(d!=m&&!i)return!1;for(var c=d;c--;){var g=f[c];if(!(i?g in t:ua.call(t,g)))return!1}var S=o.get(e),y=o.get(t);if(S&&y)return S==t&&y==e;var u=!0;o.set(e,t),o.set(t,e);for(var C=i;++c<d;){g=f[c];var _=e[g],w=t[g];if(a)var L=i?a(w,_,g,t,e,o):a(_,w,g,e,t,o);if(!(L===void 0?_===w||l(_,w,s,a,o):L)){u=!1;break}C||(C=g=="constructor")}if(u&&!C){var R=e.constructor,A=t.constructor;R!=A&&"constructor"in e&&"constructor"in t&&!(typeof R=="function"&&R instanceof R&&typeof A=="function"&&A instanceof A)&&(u=!1)}return o.delete(e),o.delete(t),u}var ca=1,$e="[object Arguments]",Ve="[object Array]",k="[object Object]",fa=Object.prototype,Ke=fa.hasOwnProperty;function pa(e,t,s,a,l,o){var i=Pe(e),f=Pe(t),d=i?Ve:Oe(e),p=f?Ve:Oe(t);d=d==$e?k:d,p=p==$e?k:p;var m=d==k,c=p==k,g=d==p;if(g&&Le(e)){if(!Le(t))return!1;i=!0,m=!1}if(g&&!m)return o||(o=new se),i||ut(e)?Xe(e,t,s,a,l,o):ra(e,t,d,s,a,l,o);if(!(s&ca)){var S=m&&Ke.call(e,"__wrapped__"),y=c&&Ke.call(t,"__wrapped__");if(S||y){var u=S?e.value():e,C=y?t.value():t;return o||(o=new se),l(u,C,s,a,o)}}return g?(o||(o=new se),da(e,t,s,a,l,o)):!1}function qe(e,t,s,a,l){return e===t?!0:e==null||t==null||!Ne(e)&&!Ne(t)?e!==e&&t!==t:pa(e,t,s,a,qe,l)}function Ba(e,t){return qe(e,t)}const fe="update:modelValue",Ha="change",Da="input",va=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),ga=e=>e,ya=["class","style"],ma=/^on[A-Z]/,ha=(e={})=>{const{excludeListeners:t=!1,excludeKeys:s}=e,a=h(()=>((s==null?void 0:s.value)||[]).concat(ya)),l=Et();return l?h(()=>{var o;return vt(Object.entries((o=l.proxy)==null?void 0:o.$attrs).filter(([i])=>!a.value.includes(i)&&!(t&&ma.test(i))))}):h(()=>({}))};function xa(e){const t=H();function s(){if(e.value==null)return;const{selectionStart:l,selectionEnd:o,value:i}=e.value;if(l==null||o==null)return;const f=i.slice(0,Math.max(0,l)),d=i.slice(Math.max(0,o));t.value={selectionStart:l,selectionEnd:o,value:i,beforeTxt:f,afterTxt:d}}function a(){if(e.value==null||t.value==null)return;const{value:l}=e.value,{beforeTxt:o,afterTxt:i,selectionStart:f}=t.value;if(o==null||i==null||f==null)return;let d=l.length;if(l.endsWith(i))d=l.length-i.length;else if(l.startsWith(o))d=o.length;else{const p=o[f-1],m=l.indexOf(p,f-1);m!==-1&&(d=m+1)}e.value.setSelectionRange(d,d)}return[s,a]}let I;const ba=`
  height:0 !important;
  visibility:hidden !important;
  ${Bt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,wa=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ea(e){const t=window.getComputedStyle(e),s=t.getPropertyValue("box-sizing"),a=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),l=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:wa.map(i=>`${i}:${t.getPropertyValue(i)}`).join(";"),paddingSize:a,borderSize:l,boxSizing:s}}function Ue(e,t=1,s){var a;I||(I=document.createElement("textarea"),document.body.appendChild(I));const{paddingSize:l,borderSize:o,boxSizing:i,contextStyle:f}=Ea(e);I.setAttribute("style",`${f};${ba}`),I.value=e.value||e.placeholder||"";let d=I.scrollHeight;const p={};i==="border-box"?d=d+o:i==="content-box"&&(d=d-l),I.value="";const m=I.scrollHeight-l;if(Fe(t)){let c=m*t;i==="border-box"&&(c=c+l+o),d=Math.max(c,d),p.minHeight=`${c}px`}if(Fe(s)){let c=m*s;i==="border-box"&&(c=c+l+o),d=Math.min(c,d)}return p.height=`${d}px`,(a=I.parentNode)==null||a.removeChild(I),I=void 0,p}const Sa=gt({id:{type:String,default:void 0},size:yt,disabled:Boolean,modelValue:{type:oe([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:oe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ze},prefixIcon:{type:ze},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:oe([Object,Array,String]),default:()=>ga({})}}),_a={[fe]:e=>re(e),input:e=>re(e),change:e=>re(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Ca=["role"],Ia=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Aa=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Ta=Ye({name:"ElInput",inheritAttrs:!1}),Pa=Ye({...Ta,props:Sa,emits:_a,setup(e,{expose:t,emit:s}){const a=e,l=St(),o=_t(),i=h(()=>{const n={};return a.containerRole==="combobox"&&(n["aria-haspopup"]=l["aria-haspopup"],n["aria-owns"]=l["aria-owns"],n["aria-expanded"]=l["aria-expanded"]),n}),f=h(()=>[a.type==="textarea"?C.b():u.b(),u.m(S.value),u.is("disabled",y.value),u.is("exceed",Qe.value),{[u.b("group")]:o.prepend||o.append,[u.bm("group","append")]:o.append,[u.bm("group","prepend")]:o.prepend,[u.m("prefix")]:o.prefix||a.prefixIcon,[u.m("suffix")]:o.suffix||a.suffixIcon||a.clearable||a.showPassword,[u.bm("suffix","password-clear")]:X.value&&te.value},l.class]),d=h(()=>[u.e("wrapper"),u.is("focus",L.value)]),p=ha({excludeKeys:h(()=>Object.keys(i.value))}),{form:m,formItem:c}=dt(),{inputId:g}=ct(a,{formItemContext:c}),S=ft(),y=pt(),u=Me("input"),C=Me("textarea"),_=le(),w=le(),L=H(!1),R=H(!1),A=H(!1),W=H(!1),ve=H(),Y=le(a.inputStyle),D=h(()=>_.value||w.value),ge=h(()=>{var n;return(n=m==null?void 0:m.statusIcon)!=null?n:!1}),$=h(()=>(c==null?void 0:c.validateState)||""),ye=h(()=>$.value&&mt[$.value]),Ze=h(()=>W.value?Ft:zt),Je=h(()=>[l.style,a.inputStyle]),me=h(()=>[a.inputStyle,Y.value,{resize:a.resize}]),N=h(()=>ht(a.modelValue)?"":String(a.modelValue)),X=h(()=>a.clearable&&!y.value&&!a.readonly&&!!N.value&&(L.value||R.value)),te=h(()=>a.showPassword&&!y.value&&!a.readonly&&!!N.value&&(!!N.value||L.value)),z=h(()=>a.showWordLimit&&!!p.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!y.value&&!a.readonly&&!a.showPassword),ae=h(()=>N.value.length),Qe=h(()=>!!z.value&&ae.value>Number(p.value.maxlength)),je=h(()=>!!o.suffix||!!a.suffixIcon||X.value||a.showPassword||z.value||!!$.value&&ge.value),[ke,et]=xa(_);Nt(w,n=>{if(tt(),!z.value||a.resize!=="both")return;const v=n[0],{width:T}=v.contentRect;ve.value={right:`calc(100% - ${T+15+6}px)`}});const V=()=>{const{type:n,autosize:v}=a;if(!(!pe||n!=="textarea"||!w.value))if(v){const T=Be(v)?v.minRows:void 0,Z=Be(v)?v.maxRows:void 0,Ie=Ue(w.value,T,Z);Y.value={overflowY:"hidden",...Ie},M(()=>{w.value.offsetHeight,Y.value=Ie})}else Y.value={minHeight:Ue(w.value).minHeight}},tt=(n=>{let v=!1;return()=>{var T;if(v||!a.autosize)return;((T=w.value)==null?void 0:T.offsetParent)===null||(n(),v=!0)}})(V),K=()=>{const n=D.value;!n||n.value===N.value||(n.value=N.value)},ne=async n=>{ke();let{value:v}=n.target;if(a.formatter&&(v=a.parser?a.parser(v):v,v=a.formatter(v)),!A.value){if(v===N.value){K();return}s(fe,v),s("input",v),await M(),K(),et()}},he=n=>{s("change",n.target.value)},xe=n=>{s("compositionstart",n),A.value=!0},be=n=>{var v;s("compositionupdate",n);const T=(v=n.target)==null?void 0:v.value,Z=T[T.length-1]||"";A.value=!va(Z)},we=n=>{s("compositionend",n),A.value&&(A.value=!1,ne(n))},at=()=>{W.value=!W.value,q()},q=async()=>{var n;await M(),(n=D.value)==null||n.focus()},nt=()=>{var n;return(n=D.value)==null?void 0:n.blur()},Ee=n=>{L.value=!0,s("focus",n)},Se=n=>{var v;L.value=!1,s("blur",n),a.validateEvent&&((v=c==null?void 0:c.validate)==null||v.call(c,"blur").catch(T=>He()))},st=n=>{R.value=!1,s("mouseleave",n)},ot=n=>{R.value=!0,s("mouseenter",n)},_e=n=>{s("keydown",n)},rt=()=>{var n;(n=D.value)==null||n.select()},Ce=()=>{s(fe,""),s("change",""),s("clear"),s("input","")};return ie(()=>a.modelValue,()=>{var n;M(()=>V()),a.validateEvent&&((n=c==null?void 0:c.validate)==null||n.call(c,"change").catch(v=>He()))}),ie(N,()=>K()),ie(()=>a.type,async()=>{await M(),K(),V()}),Ct(()=>{!a.formatter&&a.parser,K(),M(V)}),t({input:_,textarea:w,ref:D,textareaStyle:me,autosize:It(a,"autosize"),focus:q,blur:nt,select:rt,clear:Ce,resizeTextarea:V}),(n,v)=>At((x(),P("div",de(r(i),{class:r(f),style:r(Je),role:n.containerRole,onMouseenter:ot,onMouseleave:st}),[b(" input "),n.type!=="textarea"?(x(),P(ue,{key:0},[b(" prepend slot "),n.$slots.prepend?(x(),P("div",{key:0,class:E(r(u).be("group","prepend"))},[J(n.$slots,"prepend")],2)):b("v-if",!0),B("div",{class:E(r(d))},[b(" prefix slot "),n.$slots.prefix||n.prefixIcon?(x(),P("span",{key:0,class:E(r(u).e("prefix"))},[B("span",{class:E(r(u).e("prefix-inner")),onClick:q},[J(n.$slots,"prefix"),n.prefixIcon?(x(),O(r(U),{key:0,class:E(r(u).e("icon"))},{default:G(()=>[(x(),O(Q(n.prefixIcon)))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0),B("input",de({id:r(g),ref_key:"input",ref:_,class:r(u).e("inner")},r(p),{type:n.showPassword?W.value?"text":"password":n.type,disabled:r(y),formatter:n.formatter,parser:n.parser,readonly:n.readonly,autocomplete:n.autocomplete,tabindex:n.tabindex,"aria-label":n.label,placeholder:n.placeholder,style:n.inputStyle,form:a.form,onCompositionstart:xe,onCompositionupdate:be,onCompositionend:we,onInput:ne,onFocus:Ee,onBlur:Se,onChange:he,onKeydown:_e}),null,16,Ia),b(" suffix slot "),r(je)?(x(),P("span",{key:1,class:E(r(u).e("suffix"))},[B("span",{class:E(r(u).e("suffix-inner")),onClick:q},[!r(X)||!r(te)||!r(z)?(x(),P(ue,{key:0},[J(n.$slots,"suffix"),n.suffixIcon?(x(),O(r(U),{key:0,class:E(r(u).e("icon"))},{default:G(()=>[(x(),O(Q(n.suffixIcon)))]),_:1},8,["class"])):b("v-if",!0)],64)):b("v-if",!0),r(X)?(x(),O(r(U),{key:1,class:E([r(u).e("icon"),r(u).e("clear")]),onMousedown:Ot(r(Lt),["prevent"]),onClick:Ce},{default:G(()=>[Pt(r(Mt))]),_:1},8,["class","onMousedown"])):b("v-if",!0),r(te)?(x(),O(r(U),{key:2,class:E([r(u).e("icon"),r(u).e("password")]),onClick:at},{default:G(()=>[(x(),O(Q(r(Ze))))]),_:1},8,["class"])):b("v-if",!0),r(z)?(x(),P("span",{key:3,class:E(r(u).e("count"))},[B("span",{class:E(r(u).e("count-inner"))},j(r(ae))+" / "+j(r(p).maxlength),3)],2)):b("v-if",!0),r($)&&r(ye)&&r(ge)?(x(),O(r(U),{key:4,class:E([r(u).e("icon"),r(u).e("validateIcon"),r(u).is("loading",r($)==="validating")])},{default:G(()=>[(x(),O(Q(r(ye))))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0)],2),b(" append slot "),n.$slots.append?(x(),P("div",{key:1,class:E(r(u).be("group","append"))},[J(n.$slots,"append")],2)):b("v-if",!0)],64)):(x(),P(ue,{key:1},[b(" textarea "),B("textarea",de({id:r(g),ref_key:"textarea",ref:w,class:r(C).e("inner")},r(p),{tabindex:n.tabindex,disabled:r(y),readonly:n.readonly,autocomplete:n.autocomplete,style:r(me),"aria-label":n.label,placeholder:n.placeholder,form:a.form,onCompositionstart:xe,onCompositionupdate:be,onCompositionend:we,onInput:ne,onFocus:Ee,onBlur:Se,onChange:he,onKeydown:_e}),null,16,Aa),r(z)?(x(),P("span",{key:0,style:Rt(ve.value),class:E(r(u).e("count"))},j(r(ae))+" / "+j(r(p).maxlength),7)):b("v-if",!0)],64))],16,Ca)),[[Tt,n.type!=="hidden"]])}});var Oa=xt(Pa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const $a=bt(Oa),F=new Map;let Ge;pe&&(document.addEventListener("mousedown",e=>Ge=e),document.addEventListener("mouseup",e=>{for(const t of F.values())for(const{documentHandler:s}of t)s(e,Ge)}));function We(e,t){let s=[];return Array.isArray(t.arg)?s=t.arg:wt(t.arg)&&s.push(t.arg),function(a,l){const o=t.instance.popperRef,i=a.target,f=l==null?void 0:l.target,d=!t||!t.instance,p=!i||!f,m=e.contains(i)||e.contains(f),c=e===i,g=s.length&&s.some(y=>y==null?void 0:y.contains(i))||s.length&&s.includes(f),S=o&&(o.contains(i)||o.contains(f));d||p||m||c||g||S||t.value(a,l)}}const Va={beforeMount(e,t){F.has(e)||F.set(e,[]),F.get(e).push({documentHandler:We(e,t),bindingFn:t.value})},updated(e,t){F.has(e)||F.set(e,[]);const s=F.get(e),a=s.findIndex(o=>o.bindingFn===t.oldValue),l={documentHandler:We(e,t),bindingFn:t.value};a>=0?s.splice(a,1,l):s.push(l)},unmounted(e){F.delete(e)}};export{Va as C,$a as E,Da as I,ee as S,fe as U,Ha as a,qe as b,Kt as c,va as d,Bt as e,Ba as i,ga as m,Yt as s,ha as u};
